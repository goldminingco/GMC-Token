# ğŸ“‹ Template de Workspace Cargo.toml para Projetos Solana
# Baseado nas melhores prÃ¡ticas implementadas no GMC Ecosystem

[workspace]
members = [
    "programs/contract_1",
    "programs/contract_2", 
    "programs/contract_3",
    # Adicione seus contratos aqui
]
resolver = "2"

# ğŸ”§ DependÃªncias centralizadas - Uma Ãºnica fonte de verdade
[workspace.dependencies]
# Anchor Framework - VersÃµes fixas para estabilidade
anchor-lang = { version = "=0.31.1", features = ["init-if-needed"] }
anchor-spl = "=0.31.1"

# SPL Token - Use versÃµes especÃ­ficas em produÃ§Ã£o
spl-token = { version = "=4.0.0", features = ["no-entrypoint"] }
spl-token-2022 = { version = "=6.0.0", features = ["no-entrypoint"] }
spl-associated-token-account = "=6.0.0"

# UtilitÃ¡rios comuns
borsh = "=0.10.3"
solana-program = "=2.3.0"

# ğŸ”§ Patches para resolver conflitos conhecidos
[patch.crates-io]
# Exemplo: forÃ§ar versÃ£o especÃ­fica para evitar conflitos
# proc-macro2 = "=1.0.85"  # Descomente se necessÃ¡rio

# ğŸš€ ConfiguraÃ§Ãµes de build otimizadas
[profile.release]
overflow-checks = true        # SeguranÃ§a em produÃ§Ã£o
lto = "fat"                  # Link Time Optimization
codegen-units = 1            # OtimizaÃ§Ã£o mÃ¡xima

[profile.release.build-override]
opt-level = 3                # OtimizaÃ§Ã£o mÃ¡xima
incremental = false          # Build completo
codegen-units = 1

# ğŸ§ª ConfiguraÃ§Ãµes para testes
[profile.test]
overflow-checks = true       # Manter verificaÃ§Ãµes em testes

# ğŸ“ ConfiguraÃ§Ãµes para desenvolvimento
[profile.dev]
debug = true                 # SÃ­mbolos de debug
overflow-checks = true       # VerificaÃ§Ãµes em desenvolvimento 